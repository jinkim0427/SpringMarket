<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="shoppingDAO">

	<resultMap id="findMarket" type="inhatc.capstone.market.findMarket.FindMarketVO">
		<result property="mk_number" column="mk_number"/>
		<result property="mk_name" column="mk_name"/>
	</resultMap>
	
	<resultMap id="shopping" type="inhatc.capstone.market.shopping.ShoppingVO">
		<result property="pd_number" column="pd_number"/>
		<result property="mk_number" column="mk_number"/>
		<result property="pd_category" column="pd_category"/>
		<result property="pd_name" column="pd_name"/>
		<result property="pd_weight" column="pd_weight"/>
		<result property="pd_amount" column="pd_amount"/>
		<result property="pd_price" column="pd_price"/>
		<result property="pd_img" column="pd_img"/>
	</resultMap>
	
	<select id="selectUserDefaultShop" resultMap="findMarket">
		SELECT
			MK_NUMBER, MK_NAME
		FROM
			MARKET
		WHERE
			MK_NUMBER = (SELECT MK_NUMBER FROM CUSTOMER WHERE ID = #{id})
	</select>
	
	<select id="selectShopProductList" resultMap="shopping">
		SELECT
			*
		FROM
			PRODUCT
		WHERE
			MK_NUMBER = #{mk_number} AND PD_CATEGORY = #{pd_category}
	
	</select>
	
</mapper>